<div class="grid gap-8 lg:grid-cols-12 lg:items-start">
  <div class="lg:col-span-8">
    <% if (post) { %>
      <article>
        <% if (post.coverImage) { %>
          <div class="mb-8 -mx-4 sm:mx-0">
            <img src="<%= post.coverImage %>" alt="<%= post.title %>" class="w-full h-64 sm:h-96 object-cover rounded-lg border border-slate-200 dark:border-slate-800" />
          </div>
        <% } %>
        <header class="mb-8">
          <h1 class="text-3xl font-extrabold tracking-tight sm:text-4xl"><%= post.title %></h1>
          <div class="mt-4 flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400">
            <time datetime="<%= post.date.toISOString() %>">
              <%= new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %>
            </time>
            <% if (post.tags && post.tags.length > 0) { %>
              <div class="flex flex-wrap gap-2">
                <% post.tags.forEach(tag => { %>
                  <span class="rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700 dark:bg-slate-800 dark:text-slate-300"><%= tag %></span>
                <% }); %>
              </div>
            <% } %>
          </div>
        </header>

        <div class="blog-content">
          <%- post.html %>
        </div>

        <div class="mt-8 border-t border-slate-200 pt-6 dark:border-slate-800">
          <a href="/blog" class="inline-flex items-center gap-2 text-sm font-semibold text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-slate-100">
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            Back to Blog
          </a>
        </div>
      </article>
    <% } else { %>
      <div class="text-center py-12">
        <h1 class="text-2xl font-bold text-slate-900 dark:text-slate-100">Post Not Found</h1>
        <p class="mt-4 text-slate-600 dark:text-slate-400">The blog post you're looking for doesn't exist.</p>
        <a href="/blog" class="mt-6 inline-block text-sm font-semibold text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-slate-100">
          ← Back to Blog
        </a>
      </div>
    <% } %>
  </div>

  <aside class="lg:col-span-4">
    <div class="sticky top-20 rounded-2xl border border-slate-200 bg-white p-5 dark:border-slate-800 dark:bg-slate-900">
      <h2 class="text-sm font-bold">Navigation</h2>
      <nav class="mt-3 space-y-2">
        <a href="/blog" class="block text-sm text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-slate-100">
          ← All Posts
        </a>
      </nav>
    </div>
  </aside>
</div>

